
\begin{exer}[2.1]
    $ $
    \begin{enumerate}[label=(\alph*)]
        \item
            $\exists x, y.\, \text{day}(x) \land \text{day}(y) \land \text{length}(x) < \text{length}(y)$.
        \item
            $\exists x.\, \text{place}(x) \land \text{home}(x) \land (\forall y.\, \text{place}(y) \land \text{home}(y) \rightarrow x = y)$.
        \item
            $\forall x, y.\, \text{mother}(\text{me}, x) \land \text{mother}(x, y) \rightarrow \text{grandmother}(\text{me}, y)$.
        \item
            $\forall x, y, z.\, \text{convex}(x) \land \text{convex}(y) \land \text{intersect}(x, y, z) \rightarrow \text{convex}(z)$.
    \end{enumerate}
\end{exer}

\begin{exer}[2.2]
    $ $
    \begin{enumerate}[label=(\alph*)]
        \item % (a)
            This exercise is similar to Example 2.13.
            To show that the given formula is invalid, we find an interpretation $I$ such that
            \begin{align*}
                I \models \neg((\forall x, y.\, p(x, y) \rightarrow p(y, x)) \rightarrow \forall z. p(z, z)).
            \end{align*}
            We will first find the NNF as following:
            \begin{itemize}
                \item
                    $\neg((\forall x, y.\, p(x, y) \rightarrow p(y, x)) \rightarrow \forall z. p(z, z))$.
                \item
                    $\neg(\neg(\forall x, y . p(x, y) \rightarrow p(y, x)) \lor \forall z. p(z, z))$.
                \item
                    $(\forall x, y . p(x, y) \rightarrow p(y, x)) \land \neg \forall z. p(z, z)$.
                \item
                    $(\forall x, y . \neg p(x, y) \lor p(y, x)) \land \exists z. \neg p(z, z)$.
            \end{itemize}
            Using the inductive steps described on P.40 and P.41,
            \begin{align*}
                &I \models \neg((\forall x, y.\, p(x, y) \rightarrow p(y, x)) \rightarrow \forall z.\, p(z, z)) \\
                    &\quad \text{ iff } I \models (\forall x, y.\, \neg p(x, y) \lor p(y, x)) \land \exists z.\, \neg p(z, z) \\
                    &\quad \text{ iff } I \models \forall x, y.\, \neg p(x, y) \lor p(y, x) \text{ and } I \models \exists z.\, \neg p(z, z) \\
                    &\quad \text{ iff } I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models \neg p(x, y) \lor p(y, x)
                                            \text{ and } I \vartriangleleft \{ z \mapsto \textsf{u} \} \models \neg p(z, z) \\
                    &\quad \text{ iff } \big[I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \not\models p(x, y)
                                    \text{ or } I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(y, x)\big]  \\
                                    &\quad \quad \quad \text{ and } I \vartriangleleft \{ z \mapsto \textsf{u} \} \models \neg p(z, z).
            \end{align*}
            where each line with \textsf{v}, \textsf{w} should be followed by ``for all \textsf{v}, \textsf{w} in $D_I$ and for some \textsf{u} in $D_I$."
            Choose $D_I = \{ 0, 1 \}$ and $p_I = \{ (0, 1), (1, 0) \}$, then it is easy to see that the last line is true.
            In other words, $I$ is indeed a falsifying interpretation, and thus the given formula is invalid.
        \item % (b)
            To show that the given formula is invalid, we need to find an interpretation $I$ such that
            \begin{align*}
                I \models \neg\forall x, y.\, p(x, y) \rightarrow p(y, x) \rightarrow \forall z.\, p(z, z).
            \end{align*}
            We will find the NNF as following:
            \begin{itemize}
                \item
                    $\neg\forall x, y.\, p(x, y) \rightarrow p(y, x) \rightarrow \forall z.\, p(z, z)$.
                \item
                    $\neg\forall x, y.\, p(x, y) \rightarrow (p(y, x) \rightarrow \forall z.\, p(z, z))$.
                \item
                    $\neg\forall x, y.\, p(x, y) \rightarrow (\neg p(y, x) \lor \forall z.\, p(z, z))$.
                \item
                    $\neg\forall x, y.\, \neg p(x, y) \lor (\neg p(y, x) \lor \forall z.\, p(z, z))$.
                \item
                    $\exists x, y.\, p(x, y) \land \neg(\neg p(y, x) \lor \forall z.\, p(z, z))$.
                \item
                    $\exists x, y.\, p(x, y) \land p(y, x) \land \neg\forall z.\, p(z, z)$.
                \item
                    $\exists x, y.\, p(x, y) \land p(y, x) \land \exists z.\, \neg p(z, z)$.
            \end{itemize}
            Using the inductive steps described on P.40 and P.41,
            \begin{align*}
                &\quad I \models \neg\forall x, y.\, p(x, y) \rightarrow p(y, x) \rightarrow \forall z.\, p(z, z) \\
                    &\text{iff}\quad I \models \exists x, y.\, p(x, y) \land p(y, x) \land \exists z.\, \neg p(z, z) \\
                    &\text{iff}\quad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(x, y) \land p(y, x) \land \exists z.\, \neg p(z, z) \\
                    &\qquad\text{for some \textsf{v}, \textsf{w} in $D_I$} \\
                    &\text{iff}\quad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(x, y) \text{ and} \\
                    &\qquad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(y, x) \text{ and} \\
                    &\qquad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models \exists z.\, \neg p(z, z) \\
                    &\qquad\text{for some \textsf{v}, \textsf{w} in $D_I$} \\
                    &\text{iff}\quad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(x, y) \text{ and} \\
                    &\qquad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(y, x) \text{ and} \\
                    &\qquad I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w}, z \mapsto \textsf{u} \} \not\models p(z, z) \\
                    &\qquad\text{for some \textsf{v}, \textsf{w}, \textsf{u} in $D_I$} \\
            \end{align*}
            Choose $D_I = \{ 0, 1 \}$ and $p_I = \{ (0, 1), (1, 0) \}$, then the last line is clearly true for we can set $\textsf{v} = 0, \textsf{w} = 1, \textsf{u} = 0$.
            Therefore, $I$ is a falsifying interpretation, and thus the original formula is invalid.
        \item % (c)
            To show that the given formula is invalid, we need to find an interpretation $I$ such that
            \begin{align*}
                I \models \neg((\exists x.\, p(x)) \rightarrow (\forall y.\, p(y))).
            \end{align*}
            It suffices to show that the negation normal form is satisfied by $I$.
            \begin{itemize}
                \item
                    $\neg((\exists x.\, p(x)) \rightarrow (\forall y.\, p(y)))$.
                \item
                    $\neg(\neg(\exists x.\, p(x)) \lor (\forall y.\, p(y)))$.
                \item
                    $(\exists x.\, p(x)) \land \neg(\forall y.\, p(y))$.
                \item
                    $(\exists x.\, p(x)) \land (\exists y.\, \neg p(y))$.
            \end{itemize}
            Then we have
            \begin{align*}
                &I \models \neg((\exists x.\, p(x)) \rightarrow (\forall y.\, p(y))) \\
                    &\text{ iff } I \models (\exists x. p(x)) \land (\exists y. \neg p(y)) & \text{(NNF)} \\
                    &\text{ iff } I \models (\exists x. p(x)) \text{ and } (\exists y. \neg p(y)) & \text{(P.40)} \\
                    &\text{ iff } I \models (\exists x. p(x)) \text{ and } (\exists y. \neg p(y)) & \text{(P.40)} \\
                    &\text{ iff } I \vartriangleleft \{ x \mapsto \textsf{v} \} \models p(x) \text{ and } I \vartriangleleft \{ y \mapsto \textsf{w} \} \models \neg p(y) \text{ for some \textsf{v}, \textsf{w} } & \text{(P.41)}
            \end{align*}
            Let $D_I = \{ 0, 1 \}$ and $p_I = \{ 0 \}$.
            Then the last statement is true since we can set \textsf{v} = 0 and \textsf{w} = 1.
            In other words, such $I$ is a falsifying interpretation.
        \item % (d)
            To prove the validity of $F: (\forall x.\, p(x)) \rightarrow (\exists y.\, p(y))$, we will assume that it is not.
            Then there must exist a falsifying interpretation.
            \begin{enumerate}[label=\arabic*.]
               \item % 1
                   $I \not\models (\forall x.\, p(x)) \rightarrow (\exists y.\, p(y))$.
               \item % 2
                   $I \models \forall x.\, p(x)$ by 1 and semantics of $\rightarrow$ on P.10.
               \item % 3
                   $I \not\models \exists y.\, p(y)$ by 1 and semantics of $\rightarrow$ on P.10.
               \item % 4
                   $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models p(x)$ by 2 and semantics of $\forall$ on P.42 for any $\textsf{v} \in D_I$.
               \item % 5
                   $I \vartriangleleft \{ y \mapsto \textsf{v} \} \not\models p(y)$ by 3 and semantics of $\exists$ on P.42 for the same $\textsf{v}$ as above.
               \item % 6
                   $I \models \bot$, contradiction as shown on P.43.
           \end{enumerate}
           Since every branch of a semantic argument proof of $I \not\models F$ closes, $F$ is valid by Theorem 2.30
        \item % (e)
            \todo[inline,caption={}]{
                The following solution is wrong.
                The formula is actually valid because
                If $p(x, y)$ is false for some $x, y$, then those $x, y$ can be chosen.
                If $p$ is always true, we are done.
            }
            In order to show that $\exists x, y.\, (p(x, y) \rightarrow (p(y, x) \rightarrow \forall z.\, p(z, z)))$ is invalid,
            we need to find an interpretation $I$ such that
            \begin{align*}
                I \not\models \exists x, y.\, (p(x, y) \rightarrow (p(y, x) \rightarrow \forall z.\, p(z, z))).
            \end{align*}
            We claim that $D_I = \{ 0, 1 \}$ and $p_I = \{ (0, 1), (1, 0) \}$ define such an interpretation.
            By the semantics of $\exists$ on P.42, the above expression is equivalent to $I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \} \models p(x, y) \rightarrow (p(y, x) \rightarrow \forall z.\, p(z, z))$ for any \textsf{v}, \textsf{w} in $D_I$.
            This is true if and only if $J \models p(x, y)$ and $J \not\models p(y, x) \rightarrow \forall z.\, p(z, z)$ where $J$ is the interpretation $I \vartriangleleft \{ x \mapsto \textsf{v}, y \mapsto \textsf{w} \}$.
            $J \not\models p(y, x) \rightarrow \forall z.\, p(z, z)$ is true if and only if $J \models p(y, x)$ and $J \not\models \forall z.\, p(z, z)$.
            Finally, $J \not\models \forall z.\, p(z, z)$ if and only if $J \vartriangleleft \{ z \mapsto \textsf{u} \} \not\models p(z, z)$ for a fresh \textsf{u} in $D_I$.
            It is easy to see that each expression evaluates to true for \textsf{v}, \textsf{w} and \textsf{u}.
            Therefore, $I$ is a falsifying interpretation.
    \end{enumerate}
\end{exer}

\begin{exer}[2.3]
    $ $
    \begin{enumerate}[label=(\alph*)]
        \item % a
            This is similar to Example 2.21.
            To show $\neg(\forall x.\, F) \Leftrightarrow \exists x.\, \neg F$, we will show the validity of $\neg(\forall x.\, F) \leftrightarrow \exists x.\, \neg F$.
            Suppose that it is not valid.
            Then there exists an interpretation $I$ such that $I \not\models \neg(\forall x.\, F) \leftrightarrow \exists x.\, \neg F$.
            By the semantiocs of $\leftrightarrow$, there are two branches.
            The semantics of $\land, \neg$ appear on P.10, and that of $\forall, \exists$ appear on P.42.

            The first branch is:
            \begin{enumerate}[label=\arabic*a.]
                \item % 1a
                    $I \models \neg(\forall x.\, F) \land \neg(\exists x.\, \neg F)$.
                \item % 2a
                    $I \models \neg(\forall x.\, F)$ by 1a and semantics of $\land$.
                \item % 3a
                    $I \models \neg(\exists x.\, \neg F)$ by 1a and semantics of $\land$.
                \item % 4a
                    $I \not\models \forall x.\, F$ by 2a and semantics of $\neg$.
                \item % 5a
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \not\models F$ by 4a and semantics of $\forall$ for some fresh \textsf{v}.
                \item % 6a
                    $I \not \models \exists x.\, \neg F$ by 3a and semantics of $\neg$.
                \item % 7a
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \not\models \neg F$ by 6a and semantics of $\exists$ for the same $\textsf{v}$.
                \item % 8a
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models F$ by 7a and semantics of $\neg$.
                \item % 9a
                    $I \models \bot$ by 5a and 8a.
            \end{enumerate}

            The second branch is:
            \begin{enumerate}[label=\arabic*b.]
                \item % 1b
                    $I \models \neg(\neg(\forall x.\, F)) \land \exists x.\, \neg F$.
                \item % 2b
                    $I \models \exists x.\, \neg F$ by 1b and semantics of $\land$.
                \item % 3b
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models \neg F$ by 2b and semantics of $\exists$ for some fresh $\textsf{v} \in D_I$.
                \item % 4b
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \not\models F$ by 3b and semantics of $\neg$.
                \item % 5b
                    $I \models \neg(\neg(\forall x.\, F))$ by 1b and semantics of $\land$.
                \item % 6b
                    $I \not\models \neg(\forall x.\, F)$ by 5b and semantics of $\neg$.
                \item % 7b
                    $I \models \forall x.\, F$ by 6b and semantics of $\neg$.
                \item % 8b
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models F$ by 7b and semantics of $\forall$ for the same \textsf{v}.
                \item % 9b
                    $I \models \bot$ by 4b and 8b.
            \end{enumerate}

            Every branch of a semantic argument proof of $I \not\models F$ closes, so $F$ is valid by Theorem 2.30.
        \item % b
            To show $\neg (\exists x.\, F) \Leftrightarrow \forall x.\, \neg F$, it suffices to show the validity of $\neg(\exists x.\, F) \leftrightarrow \forall x.\, \neg F$.
            Suppose otherwise.
            Then there exists an interpretation $I$ such that $I \not\models \neg(\exists x.\, F) \leftrightarrow (\forall x.\, \neg F)$.
            We will use the semantics of $\land, \neg, \leftrightarrow$ on P.10 and 11, and that of $\forall, \exists$ on P.42.

            The first branch is:
            \begin{enumerate}[label=\arabic*a.]
                \item % 1a
                    $I \models \neg(\exists x.\, F) \land \neg(\forall x.\, \neg F)$.
                \item % 2a
                    $I \models \neg(\exists x.\, F)$ by 1a and $\land$.
                \item % 3a
                    $I \models \neg(\forall x.\, \neg F)$ by 1a and $\land$.
                \item % 4a
                    $I \not\models \forall x.\, \neg F$ by 3a and $\neg$.
                \item % 5a
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \not\models \neg F$ by 4a and $\forall$ for a fresh $\textsf{v} \in D_I$.
                \item % 6a
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models F$ by 5a and $\neg$.
                \item % 7a
                    $I \not\models \exists x.\, F$ by 2a and $\neg$.
                \item % 8a
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \not\models F$ by 7a and $\exists$ for the same \textsf{v}.
                \item % 9a
                    $I \models \bot$ by 6a and 8a.
            \end{enumerate}

            The second branch is:
            \begin{enumerate}[label=\arabic*b.]
                \item % 1b
                    $I \models \neg(\neg(\exists x. F)) \land \forall x. \neg F$.
                \item % 2b
                    $I \models \neg(\neg(\exists x. F))$ by 1b and $\land$.
                \item % 3b
                    $I \models \forall x. \neg F$ by 1b and $\land$.
                \item % 4b
                    $I \models \exists x. F$ by applying the semantics of $\neg$ twice to 2b.
                \item % 5b
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models F$ by 4b and $\exists$ for a fresh \textsf{v}.
                \item % 6b
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \models \neg F$ by 3b and $\forall$ for the same \textsf{v}.
                \item % 7b
                    $I \vartriangleleft \{ x \mapsto \textsf{v} \} \not\models F$ by 6b and $\neg$.
                \item % 8b
                    $I \models \bot$ by 5b and 7b.
            \end{enumerate}

    \end{enumerate}
\end{exer}

\begin{exer}[2.4]
    $ $
    \begin{enumerate}[label=(\alph*)]
        \item % a
            \begin{itemize}
                \item
                    $(\forall x.\, \exists y.\, p(x, y)) \rightarrow \forall x.\, p(x, x)$.
                \item
                    $\neg (\forall x.\, \exists y.\, p(x, y)) \lor \forall x.\, p(x, x)$.
                \item
                    $(\exists x.\, \neg(\exists y.\, p(x, y))) \lor \forall x.\, p(x, x)$.
                \item
                    $(\exists x.\, \forall y.\, \neg p(x, y)) \lor \forall x.\, p(x, x)$.
                \item
                    $(\exists x.\, \forall y.\, \neg p(x, y)) \lor \forall w.\, p(w, w)$.
                \item
                    $\neg p(x, y)) \lor p(w, w)$.
                \item
                    $\exists x.\, \forall y.\, \forall w.\, \neg p(x, y)) \lor p(w, w)$.
            \end{itemize}
        \item % b
            \begin{itemize}
                \item
                    $\exists z.\, (\forall x.\, \exists y.\, p(x, y)) \rightarrow \forall x.\, p(x, z)$.
                \item
                    $\exists z.\, \neg(\forall x.\, \exists y.\, p(x, y)) \lor \forall x.\, p(x, z)$.
                \item
                    $\exists z.\, (\exists x.\, \forall y.\, \neg p(x, y)) \lor \forall x.\, p(x, z)$.
                \item
                    $\exists z.\, (\exists x.\, \forall y.\, \neg p(x, y)) \lor \forall w.\, p(w, z)$.
                \item
                    $\neg p(x, y) \lor p(w, z)$.
                \item
                    $\exists z.\, \exists x.\, \forall y.\, \forall w.\, \neg p(x, y) \lor p(w, z)$.
            \end{itemize}
    \end{enumerate}
\end{exer}

